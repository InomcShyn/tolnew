import{L as N,r,C as h,j as e,u as y,c as i,t as s,i as a,b as m,n as b,R as w}from"../../assets/clsx-CiUfbvzc.js";import{T as g,u as f,d as L}from"../../assets/ToggleSwitch-CnRYDyoD.js";const S="_container_8ztd1_9",k="_col_8ztd1_9",D="_left_8ztd1_31",O="_right_8ztd1_35",B="_logo_8ztd1_39",M="_row_8ztd1_115",R="_h1_8ztd1_142",T="_jumbo_8ztd1_154",E="_h2_8ztd1_166",H="_h3_8ztd1_172",A="_h5_8ztd1_182",F="_settingContainer_8ztd1_201",q="_settingOptionContainer_8ztd1_205",U="_consentContainer_8ztd1_222",V="_consentDescription_8ztd1_227",X="_grantedCard_8ztd1_235",G="_card_8ztd1_240",J="_divider_8ztd1_251",K="_consentImageContainer_8ztd1_256",Q="_savePreferencesButton_8ztd1_264",W="_modifyPreferencesContainer_8ztd1_268",n={container:S,col:k,left:D,right:O,logo:B,"container-fluid":"_container-fluid_8ztd1_95",row:M,h1:R,jumbo:T,h2:E,h3:H,h5:A,settingContainer:F,settingOptionContainer:q,consentContainer:U,consentDescription:V,grantedCard:X,card:G,divider:J,consentImageContainer:K,savePreferencesButton:Q,modifyPreferencesContainer:W},x=new N,p=()=>e.jsx("img",{className:n.logo,src:a("/images/logo/logo.svg"),height:"32",width:"40"});function Y(){const[j,C]=r.useState(!1),[c,d]=r.useState(!1),[_,u]=r.useState(!0),v=async()=>{const t=await x.read("prefs")??L;t.hideLocation=c,t.helpImprove=_,await x.write("prefs",t),C(!0)},z=async t=>{t.preventDefault();const o=await chrome.permissions.request({origins:["<all_urls>"]});d(o&&!c)};r.useEffect(()=>{async function t(){var l;h.getInstance().bind(y);const o=await chrome.permissions.getAll();d(((l=o==null?void 0:o.origins)==null?void 0:l.includes("<all_urls>"))??!1)}return t(),()=>h.getInstance().unbind()},[]);const P=()=>e.jsxs("div",{className:n.row,children:[e.jsxs("div",{className:i(n.col,n.consentContainer),children:[e.jsx(p,{}),e.jsx("h3",{children:s("firefox_consent_screen_h3")}),e.jsx("p",{children:s("firefox_consent_screen_p_aboutus")}),e.jsx("div",{className:n.consentContainerImage,children:e.jsx("img",{src:a("/images/illustrations/consent.png")})})]}),e.jsxs("div",{className:n.col,children:[e.jsxs("div",{className:n.card,children:[e.jsx("h5",{children:s("firefox_consent_screen_location_h5")}),e.jsx("div",{className:n.settingContainer,children:e.jsxs("div",{className:n.settingOptionContainer,children:[e.jsx("label",{htmlFor:"hideLocation",children:s("firefox_consent_screen_location_label")}),e.jsx(g,{id:"hideLocation",checked:c,onChange:z})]})}),e.jsx("small",{children:s("firefox_consent_screen_location_desc")})]}),e.jsxs("div",{className:n.card,style:{marginTop:20},children:[e.jsx("h5",{children:s("firefox_consent_screen_diag_h5")}),e.jsx("div",{className:n.settingContainer,children:e.jsxs("div",{className:n.settingOptionContainer,children:[e.jsx("label",{htmlFor:"helpImprove",children:s("firefox_consent_screen_diag_label")}),e.jsx(g,{id:"helpImprove",checked:_,onChange:t=>u(t.target.checked)})]})}),e.jsx("small",{children:s("firefox_consent_screen_diag_desc1")}),e.jsx("small",{className:n.consentDescription,dangerouslySetInnerHTML:{__html:f("firefox_consent_screen_diag_desc2","privacyPolicy")},onClick:m})]}),e.jsx("div",{className:n.modifyPreferencesContainer,children:e.jsx("small",{children:s("firefox_consent_screen_modify_possible_desc")})}),e.jsx("button",{onClick:v,className:i("primary",n.savePreferencesButton),children:s("firefox_consent_screen_save_btn")})]})]}),I=()=>e.jsxs("div",{className:i(n.card,n.grantedCard),children:[e.jsx(p,{}),e.jsx("h3",{children:s("firefox_consent_screen_granted_h3")}),e.jsx("p",{children:s("firefox_consent_screen_granted_p1")}),e.jsx("p",{className:n.grantedDescription,dangerouslySetInnerHTML:{__html:f("firefox_consent_screen_granted_p2","support")},onClick:m}),e.jsx("div",{className:n.consentImageContainer,children:e.jsx("img",{src:a("/images/illustrations/consent_done.png")})})]});return e.jsx("div",{className:n.container,children:j?e.jsx(I,{}):e.jsx(P,{})})}b();w.createRoot(document.getElementById("root")).render(e.jsx(r.StrictMode,{children:e.jsx(Y,{})}));
